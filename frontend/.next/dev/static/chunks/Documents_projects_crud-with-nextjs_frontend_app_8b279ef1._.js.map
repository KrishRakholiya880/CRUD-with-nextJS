{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/projects/crud-with-nextjs/frontend/app/CookieAction/GetToken.js"],"sourcesContent":["\"use server\";\n\n// Cookie\nimport { cookies } from \"next/headers\";\n\nexport const GetToken = async () => {\n  const cookieStore = await cookies();\n\n  const tokenData = cookieStore.get(\"token\");\n  return tokenData?.value;\n};\n"],"names":[],"mappings":";;;;;;;IAKa,WAAA,WAAA,GAAA,IAAA,iTAAA,EAAA,8CAAA,sSAAA,EAAA,KAAA,GAAA,4SAAA,EAAA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/projects/crud-with-nextjs/frontend/app/CookieAction/GetUserData.js"],"sourcesContent":["\"use server\";\n\n// Cookie\nimport { cookies } from \"next/headers\";\n\nexport async function GetUserData() {\n  const cookieStore = await cookies();\n  const userInfo = cookieStore.get(\"userdata\")?.value;\n\n  if (!userInfo) return null;\n\n  try {\n    // Decode (remove %20) and Parse (String -> Object)\n    return JSON.parse(decodeURIComponent(userInfo));\n  } catch (e) {\n    return null;\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAKsB,cAAA,WAAA,GAAA,IAAA,iTAAA,EAAA,8CAAA,sSAAA,EAAA,KAAA,GAAA,4SAAA,EAAA"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/projects/crud-with-nextjs/frontend/app/httpServices/httpServices.js"],"sourcesContent":["const BASE_URL_PRODUCTS = \"https://dummyjson.com/product\";\nconst BASE_URL_USERS = \"http://localhost:5000/api/auth\";\nconst BASE_URL_ADMIN = \"http://localhost:5000/api\";\n\n// Product APIs\n\n// 1. Fetch All Products\nexport const fetchAllProducts = (skip, limit) => {\n  return `${BASE_URL_PRODUCTS}?skip=${skip}&limit=${limit}`;\n};\n\n// 2. Remove a Product\nexport const removeProduct = (id) => {\n  return `${BASE_URL_PRODUCTS}/${id}`;\n};\n\n// 3. Add New Product\nexport const addNewProducts = () => {\n  return `${BASE_URL_PRODUCTS}/add`;\n};\n\n// 4. Search Product\nexport const searchProducts = (productName) => {\n  return `${BASE_URL_PRODUCTS}/search?q=${productName}`;\n};\n\n// 5. Update Product\nexport const updateProducts = (id) => {\n  return `${BASE_URL_PRODUCTS}/${id}`;\n};\n\n// Users APIs\n\n// 1. Signup user\nexport const signupAPI = () => {\n  return `${BASE_URL_USERS}/register`;\n};\n\n// 2. Login User\nexport const loginAPI = () => {\n  return `${BASE_URL_USERS}/login`;\n};\n\n// Admin APIs\nexport const adminProtected = () => {\n  return `${BASE_URL_ADMIN}/protected/admin`;\n};\n\n// Admin APIs\nexport const userProtected = () => {\n  return `${BASE_URL_ADMIN}/protected/user`;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,MAAM,oBAAoB;AAC1B,MAAM,iBAAiB;AACvB,MAAM,iBAAiB;AAKhB,MAAM,mBAAmB,CAAC,MAAM;IACrC,OAAO,GAAG,kBAAkB,MAAM,EAAE,KAAK,OAAO,EAAE,OAAO;AAC3D;AAGO,MAAM,gBAAgB,CAAC;IAC5B,OAAO,GAAG,kBAAkB,CAAC,EAAE,IAAI;AACrC;AAGO,MAAM,iBAAiB;IAC5B,OAAO,GAAG,kBAAkB,IAAI,CAAC;AACnC;AAGO,MAAM,iBAAiB,CAAC;IAC7B,OAAO,GAAG,kBAAkB,UAAU,EAAE,aAAa;AACvD;AAGO,MAAM,iBAAiB,CAAC;IAC7B,OAAO,GAAG,kBAAkB,CAAC,EAAE,IAAI;AACrC;AAKO,MAAM,YAAY;IACvB,OAAO,GAAG,eAAe,SAAS,CAAC;AACrC;AAGO,MAAM,WAAW;IACtB,OAAO,GAAG,eAAe,MAAM,CAAC;AAClC;AAGO,MAAM,iBAAiB;IAC5B,OAAO,GAAG,eAAe,gBAAgB,CAAC;AAC5C;AAGO,MAAM,gBAAgB;IAC3B,OAAO,GAAG,eAAe,eAAe,CAAC;AAC3C"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/projects/crud-with-nextjs/frontend/app/admin/page.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/navigation\";\nimport { toast } from \"react-toastify\";\n\n// Helpers\nimport { GetToken } from \"../CookieAction/GetToken\";\nimport { GetUserData } from \"../CookieAction/GetUserData\";\nimport LogoutButton from \"../_components/LogoutButton/LogoutButton\";\nimport { adminProtected } from \"../httpServices/httpServices\";\n\nexport default function AdminPage() {\n  const router = useRouter();\n  const [userInfo, setUserInfo] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetch = async () => {\n      const token = await GetToken();\n      const userdata = await GetUserData();\n\n      if (!token || !userdata) {\n        toast.error(\"Access Denied: Admins only\");\n        router.push(\"/login\");\n        return;\n      }\n\n      setUserInfo(userdata);\n\n      try {\n        const res = await axios.get(adminProtected(), {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        toast.success(res.data.message);\n      } catch (error) {\n        toast.error(error.response?.data?.message);\n        router.push(\"/login\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetch();\n  }, [router]);\n\n  if (loading) {\n    return null;\n  }\n\n  return (\n    <div className=\"flex flex-col justify-center items-center space-y-4 mt-20\">\n      <h2 className=\"text-3xl\">Admin Dashboard</h2>\n      <p>\n        Welcome <strong>{userInfo?.username || \"Admin\"}</strong> (\n        {userInfo?.role || \"Administrator\"})\n      </p>\n      <LogoutButton />\n    </div>\n  );\n}\n"],"names":["React","useEffect","useState","axios","useRouter","toast","GetToken","GetUserData","LogoutButton","adminProtected","AdminPage","router","userInfo","setUserInfo","loading","setLoading","fetch","token","userdata","error","push","res","get","headers","Authorization","success","data","message","response","username","role"],"mappings":";;;;;AAEA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,QAAQ,gBAAgB;AAEtC,UAAA;AACA,SAASC,QAAQ,QAAQ,0BAA0B;AACnD,SAASC,WAAW,QAAQ,6BAA6B;AACzD,OAAOC,YAAY,MAAM,0CAA0C;AACnE,SAASC,cAAc,QAAQ,8BAA8B;;;AAX7D,YAAY;;;;;;;;;AAaG;;IACb,MAAME,MAAM;IACZ,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,OAAGX,wOAAQ,EAAC,IAAI,CAAC;IAC9C,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,OAAGb,wOAAQ,EAAC,IAAI,CAAC;IAE5CD,6OAAS;+BAAC,MAAM;YACd,MAAMe,KAAK;6CAAG,MAAAA,CAAA,KAAY;oBACxB,MAAMC,KAAK,GAAG,UAAMX,yOAAQ,CAAC,CAAC;oBAC9B,MAAMY,QAAQ,GAAG,MAAMX,gPAAW,CAAC,CAAC;oBAEpC,IAAI,CAACU,KAAK,IAAI,CAACC,QAAQ,EAAE;wBACvBb,8NAAK,CAACc,KAAK,CAAC,4BAA4B,CAAC;wBACzCR,MAAM,CAACS,IAAI,CAAC,QAAQ,CAAC;wBACrB;oBACF;oBAEAP,WAAW,CAACK,QAAQ,CAAC;oBAErB,IAAI;wBACF,MAAMG,GAAG,GAAG,MAAMlB,kNAAK,CAACmB,GAAG,KAACb,uNAAc,CAAC,CAAC,GAAE;4BAC5Cc,OAAO,EAAE;gCAAEC,aAAa,EAAE,CAAA,OAAA,EAAUP,KAAK,EAAA;4BAAG;wBAC9C,CAAC,CAAC;wBACFZ,8NAAK,CAACoB,OAAO,CAACJ,GAAG,CAACK,IAAI,CAACC,OAAO,CAAC;oBACjC,CAAC,CAAC,OAAOR,KAAK,EAAE;wBACdd,8NAAK,CAACc,KAAK,CAACA,KAAK,CAACS,QAAQ,EAAEF,IAAI,EAAEC,OAAO,CAAC;wBAC1ChB,MAAM,CAACS,IAAI,CAAC,QAAQ,CAAC;oBACvB,CAAC,QAAS;wBACRL,UAAU,CAAC,KAAK,CAAC;oBACnB;gBACF,CAAC;;YAEDC,KAAK,CAAC,CAAC;QACT,CAAC;8BAAE;QAACL,MAAM;KAAC,CAAC;IAEZ,IAAIG,OAAO,EAAE;QACX,OAAO,IAAI;IACb;IAEA,qBACE,4PAAC,GAAG;QAAC,SAAS,EAAC,2DAA2D;;0BACxE,4PAAC,EAAE;gBAAC,SAAS,EAAC,UAAU;0BAAC,eAAe,EAAE,EAAE;;;;;;0BAC5C,4PAAC,CAAC;;oBAAA;kCACQ,4PAAC,MAAM,CAAC;kCAACF,QAAQ,EAAEiB,QAAQ,IAAI,OAAO,CAAC,EAAE,MAAM;;;;;;oBAAC;oBACvDjB,QAAQ,EAAEkB,IAAI,IAAI,eAAe;oBAAC;;;;;;;0BAErC,4PAAC,+NAAY;;;;;;;;;;;AAGnB;;;QA/CiB1B,iNAAS,CAAC,CAAC;;;KADJM,SAASA,CAAA,EAAG","ignoreList":[]}}]
}