{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/projects/crud-with-nextjs/frontend/app/action/ProductActions.js"],"sourcesContent":["\"use server\";\n\n// revalidatePath\nimport { revalidatePath } from \"next/cache\";\n// Add new product API & get all products API\nimport {\n  fetchAllProducts,\n  addNewProducts,\n  updateProducts,\n  removeProduct,\n} from \"../httpServices/httpServices\";\n\nconst localCache = [];\n\n//Get All Products Action\n// export async function getAllProduct() {\n//   const res = await fetch(fetchAllProducts(0, 10), {\n//     next: { revalidate: 3600 },\n//   });\n//   const resData = await res.json();\n//   return (products = resData.products);\n// }\n\n// Get all products for pagination\nexport async function getProducts(page = 1, limit = 15) {\n  const skip = (page - 1) * limit;\n\n  try {\n    const res = await fetch(fetchAllProducts(skip, limit), {\n      cache: \"no-store\",\n    });\n    const data = await res.json();\n    const allproducts = data.products;\n    if (localCache) {\n      return [...localCache, ...allproducts];\n    } else {\n      return allproducts;\n    }\n  } catch (error) {\n    console.error(\"Fetch Error:\", error);\n    return [];\n  }\n}\n\n// Add Product Action\nexport async function AddProductAction(newProductData) {\n  const newProduct = {\n    id: Date.now(),\n    images: newProductData.images,\n    title: newProductData.title,\n    description: newProductData.description,\n    category: newProductData.category,\n    rating: newProductData.rating,\n    price: newProductData.price,\n  };\n\n  try {\n    const res = await fetch(addNewProducts(), {\n      method: \"POST\",\n      header: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(newProduct),\n    });\n    const resData = await res.json();\n  } catch (error) {\n    console.log(error);\n  }\n\n  localCache.unshift(newProduct);\n  revalidatePath(\"/\");\n}\n\n// Update Product Action\nexport async function updateProductAction(formData) {\n  const id = formData.id;\n\n  const updatedData = {\n    title: formData.title,\n    description: formData.description,\n    category: formData.category,\n    rating: formData.rating,\n    price: formData.price,\n  };\n\n  try {\n    const res = await fetch(updateProducts(id), {\n      method: \"PATCH\",\n      header: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(updatedData),\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// Delete Product Action\nexport async function deleteProductAction(id) {\n  try {\n    const res = await fetch(removeProduct(id), {\n      method: \"DELETE\",\n    });\n    const resData = await res.json();\n    return true;\n  } catch (error) {\n    console.error(error);\n    return false;\n  }\n}\n"],"names":[],"mappings":";;;;;;;IA6CsB,mBAAA,WAAA,GAAA,IAAA,iTAAA,EAAA,8CAAA,sSAAA,EAAA,KAAA,GAAA,4SAAA,EAAA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/projects/crud-with-nextjs/frontend/app/action/ProductActions.js"],"sourcesContent":["\"use server\";\n\n// revalidatePath\nimport { revalidatePath } from \"next/cache\";\n// Add new product API & get all products API\nimport {\n  fetchAllProducts,\n  addNewProducts,\n  updateProducts,\n  removeProduct,\n} from \"../httpServices/httpServices\";\n\nconst localCache = [];\n\n//Get All Products Action\n// export async function getAllProduct() {\n//   const res = await fetch(fetchAllProducts(0, 10), {\n//     next: { revalidate: 3600 },\n//   });\n//   const resData = await res.json();\n//   return (products = resData.products);\n// }\n\n// Get all products for pagination\nexport async function getProducts(page = 1, limit = 15) {\n  const skip = (page - 1) * limit;\n\n  try {\n    const res = await fetch(fetchAllProducts(skip, limit), {\n      cache: \"no-store\",\n    });\n    const data = await res.json();\n    const allproducts = data.products;\n    if (localCache) {\n      return [...localCache, ...allproducts];\n    } else {\n      return allproducts;\n    }\n  } catch (error) {\n    console.error(\"Fetch Error:\", error);\n    return [];\n  }\n}\n\n// Add Product Action\nexport async function AddProductAction(newProductData) {\n  const newProduct = {\n    id: Date.now(),\n    images: newProductData.images,\n    title: newProductData.title,\n    description: newProductData.description,\n    category: newProductData.category,\n    rating: newProductData.rating,\n    price: newProductData.price,\n  };\n\n  try {\n    const res = await fetch(addNewProducts(), {\n      method: \"POST\",\n      header: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(newProduct),\n    });\n    const resData = await res.json();\n  } catch (error) {\n    console.log(error);\n  }\n\n  localCache.unshift(newProduct);\n  revalidatePath(\"/\");\n}\n\n// Update Product Action\nexport async function updateProductAction(formData) {\n  const id = formData.id;\n\n  const updatedData = {\n    title: formData.title,\n    description: formData.description,\n    category: formData.category,\n    rating: formData.rating,\n    price: formData.price,\n  };\n\n  try {\n    const res = await fetch(updateProducts(id), {\n      method: \"PATCH\",\n      header: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(updatedData),\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// Delete Product Action\nexport async function deleteProductAction(id) {\n  try {\n    const res = await fetch(removeProduct(id), {\n      method: \"DELETE\",\n    });\n    const resData = await res.json();\n    return true;\n  } catch (error) {\n    console.error(error);\n    return false;\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAwEsB,sBAAA,WAAA,GAAA,IAAA,iTAAA,EAAA,8CAAA,sSAAA,EAAA,KAAA,GAAA,4SAAA,EAAA"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/projects/crud-with-nextjs/frontend/app/_components/AddProductModal/AddProductModal.js"],"sourcesContent":["\"use client\";\n\n// Actions\nimport { AddProductAction } from \"@/app/action/ProductActions\";\nimport { updateProductAction } from \"@/app/action/ProductActions\";\n// Router\nimport { useRouter } from \"next/navigation\";\n// Hooks\nimport React, { useEffect, useState } from \"react\";\n// X-mark Icon\nimport { HiMiniXMark } from \"react-icons/hi2\";\n\nexport default function AddProductModal({ productToEdit }) {\n  const router = useRouter();\n  const [isOpen, setIsOpen] = useState(false);\n  const [formData, setFormData] = useState({\n    id: null,\n    images: \"\",\n    title: \"\",\n    description: \"\",\n    category: \"\",\n    rating: \"\",\n    price: \"\",\n  });\n\n  useEffect(() => {\n    if (productToEdit) {\n      setIsOpen(true);\n      setFormData({\n        id: productToEdit.id,\n        title: productToEdit.title,\n        description: productToEdit.description,\n        category: productToEdit.category,\n        rating: productToEdit.rating,\n        price: productToEdit.price,\n        images: \"\",\n      });\n    }\n  }, [productToEdit]);\n\n  // handleChange function\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleClose = () => {\n    setIsOpen(false);\n    setFormData({\n      images: \"\",\n      title: \"\",\n      description: \"\",\n      category: \"\",\n      rating: \"\",\n      price: \"\",\n    });\n    router.push(\"/\");\n  };\n\n  // handleSubmit function\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (formData.id) {\n      await updateProductAction(formData);\n    } else {\n      await AddProductAction(formData);\n    }\n\n    handleClose();\n  };\n\n  return (\n    <div>\n      {/* Add Product Button */}\n      <div className=\"mt-10 ml-20\">\n        <button\n          className=\"px-4 py-2 text-white bg-blue-500 hover:bg-blue-600 transition-all duration-300 rounded-xl cursor-pointer\"\n          onClick={() => setIsOpen(!isOpen)}>\n          Add Product\n        </button>\n      </div>\n\n      {/* Modal */}\n      {isOpen && (\n        <div className=\"fixed top-0 left-0 bg-[rgba(0,0,0,0.5)] flex justify-center items-center w-full h-screen z-10\">\n          <div className=\"flex flex-col gap-5 relative w-[800px] h-auto overflow-y-auto text-black bg-white border-2 border-black rounded-2xl p-8\">\n            <div className=\"flex justify-between items-center\">\n              <h1 className=\"text-2xl\">\n                {formData.id ? \"Edit Product\" : \"Add Product\"}\n              </h1>\n              <button\n                className=\"cursor-pointer text-black text-2xl\"\n                onClick={() => setIsOpen(!isOpen)}>\n                <HiMiniXMark />\n              </button>\n            </div>\n            <div className=\"modal-inputs\">\n              <form className=\"flex flex-col gap-3\" onSubmit={handleSubmit}>\n                <div className=\"flex flex-col gap-2\">\n                  <label htmlFor=\"productImg\">Product Image:</label>\n                  <input\n                    type=\"file\"\n                    id=\"productImg\"\n                    name=\"images\"\n                    className=\"border border-slate-300 w-full p-2 rounded-xl outline-0\"\n                    placeholder=\"Select an image\"\n                    onChange={(e) =>\n                      setFormData((prev) => ({\n                        ...prev,\n                        images: e.target.files[0]\n                          ? [URL.createObjectURL(e.target.files[0])]\n                          : [],\n                      }))\n                    }\n                  />\n                </div>\n                <div className=\"flex flex-col gap-2\">\n                  <label htmlFor=\"productTitle\">Product Title:</label>\n                  <input\n                    type=\"text\"\n                    id=\"productTitle\"\n                    name=\"title\"\n                    value={formData.title}\n                    className=\"border border-slate-300 w-full p-2 rounded-xl outline-0\"\n                    placeholder=\"Enter a title\"\n                    onChange={handleChange}\n                  />\n                </div>\n                <div className=\"flex flex-col gap-2\">\n                  <label htmlFor=\"productDeacription\">\n                    Product Description:\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"productDeacription\"\n                    name=\"description\"\n                    value={formData.description}\n                    className=\"border border-slate-300 w-full p-2 rounded-xl outline-0\"\n                    placeholder=\"Enter a description\"\n                    onChange={handleChange}\n                  />\n                </div>\n                <div className=\"flex flex-col gap-2\">\n                  <label htmlFor=\"productCategory\">Product Category:</label>\n                  <input\n                    type=\"text\"\n                    id=\"productCategory\"\n                    name=\"category\"\n                    value={formData.category}\n                    className=\"border border-slate-300 w-full p-2 rounded-xl outline-0\"\n                    placeholder=\"Enter a category\"\n                    onChange={handleChange}\n                  />\n                </div>\n                <div className=\"flex flex-col gap-2\">\n                  <label htmlFor=\"productRating\">Product Rating:</label>\n                  <input\n                    type=\"number\"\n                    id=\"productRating\"\n                    name=\"rating\"\n                    value={formData.rating}\n                    className=\"border border-slate-300 w-full p-2 rounded-xl outline-0\"\n                    placeholder=\"Enter a rating\"\n                    onChange={handleChange}\n                  />\n                </div>\n                <div className=\"flex flex-col gap-2\">\n                  <label htmlFor=\"productPrice\">Product Price:</label>\n                  <input\n                    type=\"number\"\n                    id=\"productPrice\"\n                    name=\"price\"\n                    value={formData.price}\n                    className=\"border border-slate-300 w-full p-2 rounded-xl outline-0\"\n                    placeholder=\"Enter a price\"\n                    onChange={handleChange}\n                  />\n                </div>\n                <button className=\"bg-green-600 text-white w-full text-center mt-3 py-2 rounded-3xl cursor-pointer\">\n                  {formData.id ? \"Edit Product\" : \"Add Product\"}\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["c","_c","AddProductAction","updateProductAction","useRouter","React","useEffect","useState","HiMiniXMark","AddProductModal","t0","$","$i","Symbol","for","productToEdit","router","isOpen","setIsOpen","t1","id","images","title","description","category","rating","price","formData","setFormData","t2","t3","AddProductModal[useEffect()]","t4","e","name","value","target","handleChange","t5","AddProductModal[handleClose]","push","handleClose","t6","e_0","preventDefault","handleSubmit","t7","AddProductModal[<button>.onClick]","t8","e_1","prev","files","URL","createObjectURL","t9"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/projects/crud-with-nextjs/frontend/app/_components/DataCard/DataCard.jsx"],"sourcesContent":["\"use client\";\n\n// Image component\nimport Image from \"next/image\";\n// Link\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\n// Hooks\nimport { useEffect, useState } from \"react\";\n\nexport default function DataCard({\n  id,\n  image,\n  title,\n  description,\n  category,\n  rating,\n  price,\n  onRemove,\n  token,\n  userdata,\n}) {\n  // Router\n  const router = useRouter();\n  // State\n  const [isVisible, setIsVisible] = useState(true);\n\n  // Remove a product\n  const removeProducts = async (id) => {\n    setIsVisible(false);\n    await onRemove(id);\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <Link\n      href={`/products/${id}`}\n      className=\"border rounded-xl p-5 m-2.5 w-[400px] h-auto space-y-6 text-lg\">\n      <div className=\"overflow-hidden text-center\">\n        <Image\n          src={image}\n          alt=\"productImages\"\n          width={250}\n          height={250}\n          className=\"object-cover mx-auto\"\n          placeholder=\"blur\"\n          blurDataURL=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAIAAACRXR/mAAAAUElEQVR4nO3OMRHAIAAAMcBkj8O/jxro8hMdEgWZzz7jf9btwDetQqvQKrQKrUKr0Cq0Cq1Cq9AqtAqtQqvQKrQKrUKr0Cq0Cq1Cq9AqtIoXooYBb1MYuvkAAAAASUVORK5CYII=\"\n        />\n      </div>\n      <p>\n        <b>Title: </b>\n        {title.length > 15 ? title.slice(0, 14) + \"...\" : title}\n      </p>\n      <p>\n        <b>Description: </b>\n        {description.length > 20\n          ? description.slice(0, 19) + \"...\"\n          : description}\n      </p>\n      <p>\n        <b>Category: </b>\n        {category}\n      </p>\n      <p>\n        <b>Rating: </b>\n        {rating}\n      </p>\n      <p className=\"mb-4\">\n        <b>Price: </b>\n        {price}\n      </p>\n      {token && userdata.role === \"admin\" && (\n        <div className=\"flex items-center gap-3\">\n          <button\n            className=\"px-10 py-4 text-xl bg-green-500 border-2 border-green-500 rounded-3xl transition-all duration-300 hover:bg-transparent cursor-pointer\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              router.push(`/?edit=${id}`, { scroll: false });\n            }}>\n            Edit\n          </button>\n          <button\n            className=\"px-10 py-4 text-xl bg-red-500 border-2 border-red-500 rounded-3xl transition-all duration-300 hover:bg-transparent cursor-pointer\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              removeProducts(id);\n            }}>\n            Delete\n          </button>\n        </div>\n      )}\n    </Link>\n  );\n}\n"],"names":["c","_c","Image","Link","useRouter","useEffect","useState","DataCard","t0","$","$i","Symbol","for","id","image","title","description","category","rating","price","onRemove","token","userdata","router","isVisible","setIsVisible","t1","id_0","removeProducts","t2","t3","t4","t5","length","slice","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","role","e","preventDefault","stopPropagation","push","scroll","e_0","t17"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 842, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/projects/crud-with-nextjs/frontend/app/action/ProductActions.js"],"sourcesContent":["\"use server\";\n\n// revalidatePath\nimport { revalidatePath } from \"next/cache\";\n// Add new product API & get all products API\nimport {\n  fetchAllProducts,\n  addNewProducts,\n  updateProducts,\n  removeProduct,\n} from \"../httpServices/httpServices\";\n\nconst localCache = [];\n\n//Get All Products Action\n// export async function getAllProduct() {\n//   const res = await fetch(fetchAllProducts(0, 10), {\n//     next: { revalidate: 3600 },\n//   });\n//   const resData = await res.json();\n//   return (products = resData.products);\n// }\n\n// Get all products for pagination\nexport async function getProducts(page = 1, limit = 15) {\n  const skip = (page - 1) * limit;\n\n  try {\n    const res = await fetch(fetchAllProducts(skip, limit), {\n      cache: \"no-store\",\n    });\n    const data = await res.json();\n    const allproducts = data.products;\n    if (localCache) {\n      return [...localCache, ...allproducts];\n    } else {\n      return allproducts;\n    }\n  } catch (error) {\n    console.error(\"Fetch Error:\", error);\n    return [];\n  }\n}\n\n// Add Product Action\nexport async function AddProductAction(newProductData) {\n  const newProduct = {\n    id: Date.now(),\n    images: newProductData.images,\n    title: newProductData.title,\n    description: newProductData.description,\n    category: newProductData.category,\n    rating: newProductData.rating,\n    price: newProductData.price,\n  };\n\n  try {\n    const res = await fetch(addNewProducts(), {\n      method: \"POST\",\n      header: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(newProduct),\n    });\n    const resData = await res.json();\n  } catch (error) {\n    console.log(error);\n  }\n\n  localCache.unshift(newProduct);\n  revalidatePath(\"/\");\n}\n\n// Update Product Action\nexport async function updateProductAction(formData) {\n  const id = formData.id;\n\n  const updatedData = {\n    title: formData.title,\n    description: formData.description,\n    category: formData.category,\n    rating: formData.rating,\n    price: formData.price,\n  };\n\n  try {\n    const res = await fetch(updateProducts(id), {\n      method: \"PATCH\",\n      header: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(updatedData),\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// Delete Product Action\nexport async function deleteProductAction(id) {\n  try {\n    const res = await fetch(removeProduct(id), {\n      method: \"DELETE\",\n    });\n    const resData = await res.json();\n    return true;\n  } catch (error) {\n    console.error(error);\n    return false;\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAwBsB,cAAA,WAAA,GAAA,IAAA,iTAAA,EAAA,8CAAA,sSAAA,EAAA,KAAA,GAAA,4SAAA,EAAA"}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/projects/crud-with-nextjs/frontend/app/_components/ProductFeed/ProductFeed.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport DataCard from \"../DataCard/DataCard\";\nimport { getProducts } from \"@/app/action/ProductActions\";\nimport { usePathname } from \"next/navigation\";\n\nexport default function ProductFeed({ initialProducts, token, userdata }) {\n  // States\n  const [products, setProducts] = useState(initialProducts);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n\n  const pathname = usePathname();\n\n  // Effect for set the URL to \"/\" when page loaded\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      window.history.replaceState(null, \"\", pathname);\n    }\n  }, []);\n\n  // Function to load more\n  const loadMore = useCallback(async () => {\n    if (loading || !hasMore) return;\n    setLoading(true);\n    const nextPage = page + 1;\n\n    // fetch new data\n    const newProducts = await getProducts(nextPage);\n\n    if (newProducts.length === 0) {\n      setHasMore(false);\n    } else {\n      setProducts((prev) => [...prev, ...newProducts]);\n      setPage(nextPage);\n\n      window.history.replaceState(null, \"\", `${pathname}?page=${nextPage}`);\n    }\n\n    setLoading(false);\n  }, [page, loading, hasMore]);\n\n  // Scrolling effect\n  useEffect(() => {\n    const handleScroll = () => {\n      if (loading || !hasMore) return;\n\n      const { scrollTop, clientHeight, scrollHeight } =\n        document.documentElement;\n\n      if (scrollTop + clientHeight >= scrollHeight - 200) {\n        loadMore();\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [loadMore, loading, hasMore]);\n\n  return (\n    <main className=\"flex flex-col items-center w-full\">\n      <div className=\"flex flex-wrap justify-center items-center mt-3 gap-4\">\n        {products &&\n          products?.map((product, index) => (\n            <DataCard\n              key={`${product.id} - ${index}`}\n              id={product.id}\n              image={product.images[0]}\n              title={product.title}\n              description={product.description}\n              category={product.category}\n              rating={product.rating}\n              price={product.price}\n              token={token}\n              userdata={userdata}\n              priority={index < 4}\n            />\n          ))}\n      </div>\n      <div>\n        {loading && (\n          <p className=\"text-blue-500 font-bold animate-pulse\">\n            Loading more items...\n          </p>\n        )}\n      </div>\n    </main>\n  );\n}\n"],"names":["React","useCallback","useEffect","useState","DataCard","getProducts","usePathname","ProductFeed","initialProducts","token","userdata","products","setProducts","page","setPage","loading","setLoading","hasMore","setHasMore","pathname","window","history","replaceState","loadMore","nextPage","newProducts","length","prev","handleScroll","scrollTop","clientHeight","scrollHeight","document","documentElement","addEventListener","removeEventListener","map","product","index","id","images","title","description","category","rating","price"],"mappings":"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","ignoreList":[]}}]
}